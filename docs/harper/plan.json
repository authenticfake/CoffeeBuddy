{
  "snapshot": {
    "total": 7,
    "open": 7,
    "in_progress": 0,
    "done": 0,
    "deferred": 0,
    "progressPct": 0
  },
  "reqs": [
    {
      "id": "REQ-001",
      "title": "Slash command run lifecycle",
      "acceptance": [
        "Slash command verifies Slack signatures responds under 2s",
        "Run records persisted with correct states and events",
        "Close control enforces permissions and prevents duplicates",
        "Channel message reflects latest counts and controls",
        "Errors surface as clear Slack hints without leaking secrets"
      ,
      "dependsOn": [
        "REQ-005"
      ],
      "track": "App",
      "status": "open",
      "lane": "python",
      "test_profile": "pytest-fast",
      "gate_policy_ref": "docs/harper/lane-guides/python.md"
    },
    {
      "id": "REQ-002",
      "title": "Order capture and preferences",
      "acceptance": [
        "Order modal validates inputs before persistence",
        "Use last order pulls stored preference into run",
        "Edits cancelations update channel roster promptly",
        "Duplicate orders blocked with user facing errors",
        "Preference store refreshes on confirmed order"
      ],
      "dependsOn": [
        "REQ-001",
        "REQ-005"
      ],
      "track": "App",
      "status": "open",
      "lane": "python",
      "test_profile": "pytest-core",
      "gate_policy_ref": "docs/harper/lane-guides/python.md"
    },
    {
      "id": "REQ-003",
      "title": "Runner fairness and summaries",
      "acceptance": [
        "Fairness service selects runner per window rules",
        "Runner assignment and stats updated atomically",
        "Channel summary lists runner participants orders",
        "Runner DM mirrors summary with totals",
        "Kafka events emit closure and assignment data"
      ],
      "dependsOn": [
        "REQ-001",
        "REQ-002",
        "REQ-005"
      ],
      "track": "App",
      "status": "open",
      "lane": "python",
      "test_profile": "pytest-fairness",
      "gate_policy_ref": "docs/harper/lane-guides/python.md"
    },
    {
      "id": "REQ-004",
      "title": "Reminder scheduling via Kafka",
      "acceptance": [
        "Run events published to Kafka topics reliably",
        "Scheduler persists reminder jobs per run config",
        "Runner DM last call sent within configured window",
        "Config toggle prevents reminders when disabled",
        "Reminder latency tracked via metrics assertions"
      ],
      "dependsOn": [
        "REQ-001",
        "REQ-005"
      ],
      "track": "App",
      "status": "open",
      "lane": "kafka",
      "test_profile": "pytest-reminders",
      "gate_policy_ref": "docs/harper/lane-guides/kafka.md"
    },
    {
      "id": "REQ-005",
      "title": "Data persistence foundations",
      "acceptance": [
        "Migrations create normalized tables and indexes",
        "Repositories enforce retention per channel config",
        "Defaults seeded for reminder and fairness windows",
        "Unit of work helpers exposed for app services",
        "DB integration tests pass using Postgres container"
      ],
      "dependsOn": [],
      "track": "Infra",
      "status": "open",
      "lane": "sql",
      "test_profile": "pytest-db",
      "gate_policy_ref": "docs/harper/lane-guides/sql.md"
    },
    {
      "id": "REQ-006",
      "title": "Admin flows and config governance",
      "acceptance": [
        "Admin command gated by Slack roles allowlist",
        "Enable disable toggles take effect immediately",
        "Config updates validated logged and persisted",
        "Data reset purges channel scoped history safely",
        "Admin actions recorded for audit retrieval"
      ],
      "dependsOn": [
        "REQ-005"
      ],
      "track": "App",
      "status": "open",
      "lane": "python",
      "test_profile": "pytest-admin",
      "gate_policy_ref": "docs/harper/lane-guides/python.md"
    },
    {
      "id": "REQ-007",
      "title": "Platform integration and observability",
      "acceptance": [
        "Vault secrets loaded without logging sensitive data",
        "Ory auth middleware enforces internal scopes",
        "Kong ingress contract validated via smoke tests",
        "Prometheus metrics expose required counters histograms",
        "Liveness readiness probes verify deps connectivity"
      ],
      "dependsOn": [
        "REQ-005"
      ],
      "track": "Infra",
      "status": "open",
      "lane": "infra",
      "test_profile": "pytest-ops",
      "gate_policy_ref": "docs/harper/lane-guides/infra.md"
    }
  ]
}